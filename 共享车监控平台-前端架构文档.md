# 共享车监控平台-前端架构文档
> 前端架构文档 `vue` + `vuex` + `elementUI` + `vue-cli@3.0` + `typescript`

[vue官网](https://cn.vuejs.org/)
[vuex官网](https://vuex.vuejs.org/zh/)
[element-ui官网](http://element-cn.eleme.io/#/zh-CN)
[vue-cli官网](https://cli.vuejs.org/zh/)
[typescript官网](http://www.tslang.cn/)

## 目录结构
  - public `静态资源`
  - src `源代码`
    - api `api接口模块`
    - assets `引用静态资源模块`
    - components `公共组件模块`
      - FilterTable `公共筛选表格组件` **核心组件**
      - Layout `布局模块组件` **核心组件**
      - Loader `loading 组件`
      - Popconfirm `element-ui > popConfirm 组件二次封装模块`
      - Spin `表格组件loading 模块组件`
      - Upload `上传组件模块`
    - interface `typescript 公共接口模块`
    - mock `mock 模块`
    - plugins `vue 插件引入模块`
    - router `路由模块`
    - store `vuex 模块`
    - styles `公共样式模块`
    - utils `工具函数模块`
    - views `页面模块`
      - car `车辆管理`
      - customer `客户管理`
      - dashboard
      - data `数据统计`
      - equipment `设备管理`
      - error `404 405`
      - login
      - message `消息管理`
      - model `车型管理`
      - permission `权限管理`
      - system `系统设置`
      - updatePwd `更新密码`
      - updateSelf `个人中心`
    - App.tsx `模板入口文件`
    - global.d.ts `typescript 全局声明模块`
    - main.ts `编译入口文件`
    - shims-tsx.d.ts `脚手架生成tsx文件的声明文件`
    - shims-vue.d.ts `脚手架生成vue文件的声明文件`
  - tests `单元测试模块`
  - babel.config.js `babel 配置模块`
  - tsconfig.json `typescript 配置模块`
  - vue.config.js `项目配置文件`
  - web-fzk-monitor.release `云效自动化构建配置文件(老流水线配置文件)`
  - web-new-fzk-monitor.release `云效自动化构建配置文件(新流水线配置文件)`

## 核心模块设计

### /src/main.ts `编译入口文件，初始化vue和element等模块`
  
  - 初始化vue
  - 初始化sentry监控
  - 初始化elementUI
  - 初始化路由模块
  - 初始化FilterTable核心模块
  - 在路由拦截器里初始请求getUserInfo 
 
### /src/App.tsx 组件 `vue根组件`
    
  - 初始化移动端兼容判断
  - 渲染AppMain根组件

### /src/components/Layout/AppMain.tsx 组件

  - 监听路由变化，更新tab组件
  - 初始化渲染头部，菜单，tab页面组件
  - 监听路由变化，更新tab组件
  - 监听tab组件事件，更新路由和tab组件

### /src/components/FilterTable/index.vue 组件

  - 筛选表格组件入口文件
  - 派分组件参数和事件处理
  - 组件事件回调

### /src/components/FilterTable/MFilter.tsx 组件
  
  - 筛选表格组件的顶部表单和按钮组件
  - 渲染表格组件的表单元素和顶部按钮
  - 处理筛选参数回调给表格组件
  - 新增事件-表格设置模块

### /src/components/FilterTable/MTable.tsx 组件

  - 筛选表格组件的表格组件
  - ajax获取表格数据
  - 表格操作栏事件
  - 表格渲染
### 