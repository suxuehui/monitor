## 共享车监控管理系统

### 上线记录
```
09-13 v0.1 one首次提交版本至预发布环境 two修改设备验收
10-26 v1.0 one打包上线
10-30 v1.2 one修改百度地图url为https two修改车辆详情展示 three修改百度地图加载地址https
11-14 v1.3 11-12 11-13 11-14
11-15 17:09 v1.4 11-15
11-23 19:57 v1.5 11-19 11-21 11-22 11-23
12-07 10:21 v1.6 11-24 11-26 11-27 11-29 11-30 12-06 12-07
12-07 16:58 v1.7 12-07
03-12 v1.8 
03-19 v1.9
03-21 v1.91
```

### 修改记录
`11-12`
1. 追踪、记录:导出、
2. 商户添加修改功能修改
3. 通知公告添加id
4. 车辆监控添加默认地址

`11-13`
1. 车辆监控：车辆详情展示品牌车系车型、详情展示
2. 修改车型管理：电动时不展示油量
3. 商户管理新增、修改的需求修改：增加商户名称搜索，同步设备类型选择、添加验证
4. 车辆监控：控制功能修改，添加验证

`11-14`
1. 车辆监控：详情展示修改、控制页修改
2. 商户管理：商户名称远程搜索方法修改

`11-15`
1. 车辆轨迹：坐标点详情展示、驾驶行为展示\车辆速度展示(obj->gps->未知)
2. 列表：删除时弹框二次确认

`11-19`
1. 车辆监控：修改车辆轨迹样式
2. 修改电子围栏样式
3. 修改客户管理：无数据显示状态

`11-21`
1. 车辆轨迹：驾驶行为样式修改为水平放置
2. 路由保存

`11-22`
1. 车辆追踪：设备配置、预约修改，添加配置时间字段，
2. 告警消息：添加按车牌号、车架号搜索
3. 车辆监控：修改列表表头
4. 表格红色操作修改：冻结、禁用、删除、解绑

`11-23`
1. 车辆监控：添加设备类型字段
2. 设备管理：修改设备类型展示

`11-24`
1. 轨迹：时间搜索修改、进入后重新搜索数据
2. 追踪：设备\记录 进入后重新搜索数据、设备预约修改提示语

`11-26`
1. 追踪：按权限选择显示列表、隐藏导出按钮
2. 追踪-设备：修改表头（配置启动、当前启动）、进入时计算生效时间、预约操作追踪时间延迟显示、错误提示语修改
3. 追踪-记录：若无上报位置，提示用户、时间搜索修改、选择展示
4. 轨迹列表：时长展示修改

`11-27`
1. 监控-轨迹：路径颜色显示算法修改，速度图片修改、路径未完时不显示终点
2. 监控：添加品牌筛选可输入，添加全选选项
3. 电子围栏：省市区搜索修改、
4. 监控-追踪：里程，平均速度取绝对值
5. 监控-记录：切换页码点坐标判断
6. 设备：添加主机编码字段

`11-29`
1. 车型管理：品牌，车系辆数修改
2. 电子围栏：监控时段字段修改、无位置变化字段修改
3. 追踪-设备：导出功能实现、剩余电量字段修改、无启动时间不回填、
4. 追踪-记录：导出功能实现
5. 告警消息：时间搜索数据回填、限制时间搜索范围（7天）

`11-30`
1. 登录：验证失败重新登录
2. 告警消息：地图重新渲染时坐标更新
3. 追踪-记录：修改消息框样式
4. 监控-轨迹：二次进入时判断是否是同一辆车，若不是则清理数据、轨迹展示修改样式(tra bug fixed)
5. 表格：允许多次点击、选中后样式修改
6. 追踪-记录：删除上报类型字段

`12-06`
1. 告警消息：无坐标信息提示用户、
2. 告警地图：清除上一次位置信息、
3. 配置管理：限制产品编码长度在30个字符以内

`12-07`
1. 增加请求等待时间是至50秒
2. 配置管理：限制产品编码长度在20个字符以内
3. 告警消息：告警地点展示
4. 成员管理：安装工手机号验证
5. 车辆监控：车牌验证修改
6. 设备管理：车牌验证修改

`12-08`
1. 全局修改：路有缓存功能修复

`12-11`
1. 车辆轨迹：修改字段：用时、耗油、平均油耗

`12-12`
1. 车辆监控：通油字段修改
2. 设备管理：续期操作修改
3. 顶部：通知公告、告警消息 按钮区域变大
4. 轨迹：无轨迹点提示用户

`12-14`
1. 修复开发编译时间过长
2. 车辆监控、电子围栏、轨迹、追踪：适配14英寸屏幕(修改)

`12-18`
1. 增加在线bug监控

`12-19`
1. 首页：除去全部与按时间搜索，其他都完成

`12-20`
1. 首页：搜索条件 全部搜索与按时间搜索已经完成
2. 轨迹：驾驶行为展示数量错误问题修改
3. 首页：监控车辆模块暂时使用假数据，等待下一次更新
4. 数据统计：全部完成

`12-21`
1. 顶部消息通知：修改
2. 删除首次进入后出现的提示语

`12-29`
1. 搭建错误日志上报系统

`01-08`
1. 驾驶行为修改到最新版本
2. 修改router中getComponent获取方式

`01-23`
1. 车辆轨迹：清除上一次查询结果
2. 表格居中展示

`01-28`
1. 添加方法注释

`01-29`
1. 车辆监控：车辆方向展示修改、轨迹渲染添加注释

`02-13`
1. 添加release文件，重建新流水线
2. 消息通知：修改展示规则

`02-20`
1. 通知公告：修复删除后不刷新列表的问题
2. 告警消息：修复点击重置按钮后时间不更新问题
3. 行驶统计：修复点击重置按钮后时间不更新问题
4. 角色管理：修复权限设置框在关闭后重新打开时不重新获取数据的错误

`02-26`
1. 添加注释

`03-01`
1. 修改element版本：2.5.4
2. 修改cascader中props设置，添加注释

`03-04`
1. 修复本地环境编译过慢的问题
2. 修复设备管理无法添加设备的问题(添加rules)

`03-05`
1. 修复安绑记录不刷新问题
2. 补记：2-20 重置时，是否改变初始值
3. 修复表格操作栏显示不居中的问题

`03-06`
1. 新监控2.0：设备管理全部模块已完成，等待后端完成后进行完善

`03-07`
1. 新监控2.0：配置管理移出完成
2. 新监控2.0：商户管理完成
3. 新监控2.0：告警消息、数据统计、商户管理
4. 新监控2.0：车辆监控

`03-08`
1. 新监控2.0：车辆监控部分

`03-10`
1. 合并new2分支代码，并且删除new2分支11

`03-11`
1. 新监控2.0：车辆监控-驾驶行为、
2. 新监控2.0：修改部分组件class名字 谨防重复

`03-12`
1. 修复首页-行驶数据统计：柱状图名字显示
2. 修改导出接口传参设置
3. 补录：3.11 1-退出登陆时弹框确认  2-隐藏车型

`03-14`
1. 修改设备管理图标

`03-17`
1. 关闭401
2. 权限管理：成员、角色完成部分调试

`03-19`
1. 设备管理：鉴权码、蓝牙名称 样式框修改，设备型号选择
2. 成员管理、角色管理：添加添加人字段、设置权限时，修改为通过id获取权限模板
3. 重置按钮：点击事件反馈
4. 车辆监控：修改车辆详情展示条件、修改编辑所需内容
5. 追踪、记录：添加设备类型字段
6. 商户管理：新增、编辑修改样式

`03-21`
1. 商户管理：修复编辑时不能修改密码的问题

`03-25`
1. 参数配置：设置最新列表字段但不展示、修改操作栏显示规则

`03-27`
1. 添加设备管理、配置管理定义好的接口。
2. 添加公用方法：换算分钟数、验证是否全为数字。
3. 设备配置修改。
4. 设备管理-列表修改、阈值两种模式修改、切换地址修改。
5. 添加接口：围栏内外、车辆来源、车辆绑定状态

`03-28`
1. 车辆监控：修改列表展示，数据条数过多时采用滚动条展示。
2. 电子围栏：修改列表展示，数据条数过多时采用滚动条展示、修复关闭详情后点击不展示详情的问题
3. 设备管理：日志-完成日志查看功能、
4. utils：添加返回当前时间的函数、

`03-29`
1. 修改：除设备管理列表、设备配置列表外，将商户门店修改为所属商户。
2. 车辆监控：车辆追踪-设备列表、预约、配置完成

`03-30`
1. 设备管理：取消设备到期展示。

`04-01`
1. 车辆监控：添加三个搜索条件：围栏内外、车辆来源、绑定状态，部分展示修改
2. 商户门店下拉列表，
3. 设备安绑记录：修改请求条件
4. 设备管理：设备型号搜索，上线地址展示修改

5. 车辆监控：搜索条件
6. 商户管理：搜索
7. 设备配置：搜索
8. 设备管理：搜索
9. 成员管理：搜索

10. 车辆监控-列表：修复网络状态显示、优化小屏状态下列表展示
11. 商户管理-列表：列表展示，搜索，新增

`04-03`
1. 车辆监控：控制表格操作，设备信息展示，绑定、解绑、编辑、添加设备、删除
2. 设备配置：列表、蓝牙鉴权码、蓝牙名称、日志查询、
3. 设备管理：修改字段、bsj阈值展示、设备解绑

4. 车辆监控：修改车辆详情中设备信息展示，车辆控制，优化表格操作
5. 商户管理：修复修改时不改变商户名称的问题、修复是否切换地址的问题
6. utils: 添加返回当前时间的方法
7. 导出：优化导出文件，添加导出时间
8. 设备管理：完成操作切换地址

`04-08`
1. 车辆监控：车辆驾驶行为完成，列表围栏内外删除排序
2. 首页：行驶统计添加超速、删除轻重碰撞
3. 设备管理：绑定设备车牌号出错时提示语错误，阈值设置

`04-09`
1. 车辆监控：新增查询车辆绑定设备、解绑设备接口，列表展示的修改，优化绑定解绑设备后，重新获取设备数量来更新页面展示信息。
2. 设备管理：修改设备类型下拉框借口，设备绑定时优化展示。
3. 上传图片：新增上传参数-moniter、标明是何处上传
4. 设备配置：修改蓝牙名称，清除配置、下发配置完成部分。
5. 追踪：记录列表搜索时，时间格式修改。
6. 商户管理：账号取消限制，可以为中文。

`04-10`
1. 修改eslint规则，不强制使用解构赋值。
2. 车辆监控：新增添加设备接口，
3. MTable：修改操作展示
4. 添加所有页面权限管理。
5. 设备配置：下发配置，清除配置，查询配置

`04-11`
1. 修改eslint规则，
2. 安绑记录：修改获取imei、id的方式
3. 修改存在底部table的class名称
4. 商户管理：新增修改商户的优化

`04-12`
1. 商户管理：商户新增、修改功能完善
2. 设备配置：优化更新鉴权码的操作
3. 车辆监控：优化 车辆未绑定设备时，远程控制操作为空。
4. 设备管理、设备配置：优化商户选择
5. MFilter：修改props
6. 电子围栏：省市区筛选条件默认展示全部

`04-13`
1. 成员管理：修复编辑时密码不能修改的问题
2. 成员管理：修复不能新增编辑成员的问题

`04-16`
1. 修改props
2. 设备追踪：配置、预约时 计算生效时间加上上报频率字段，配置时追踪时长duration字段随意传值
3. 设备追踪：取消 计算生效时间加上的上报频率字段

`04-17`
1. 设备管理：新增查询该设备所属商户指定的主、备服务器地址，切换地址时采用此方法
2. 商户管理：修改切换地址字段名称，修复新增编辑搜索多个商户时显示不正确的问题
3. 设备追踪：修复预约时追踪频率单位错误，添加列表上报频率、追踪频率单位展示
4. 设备追踪：第一次预约时数据不全问题的修复

`04-18`
1. 设备追踪：配置时只传启动时间、追踪频率。

`04-19`
1. 车辆监控：修改驾驶行为对应参数，

`04-22`
1. 设备追踪：当configStatus(配置状态)为1时，不展示配置启动时间。
2. 车辆监控：修复双击设备列表查询设备信息时，未清除上一条数据的错误、修改搜索条件车辆来源字段为vehicleSource

`04-23`
1. 路由：修改配置管理路由、修改设备配置路由
2. 车辆监控：位置未变排序参数改变为minutes、车辆详情carDetail合并修改、添加设备后未清空imei
3. 设备追踪：设备列表配置启动展示修改
4. 设备列表：修改阈值全线对应的接口/device/terminal/thresholdSetting
5. 角色管理：限制新增时职能描述不能全为空格

`4-24`
1. 顶部：修复没有告警消息、通知公告权限时展示图标的问题。
2. 权限管理：修改角色管理权限
3. 车辆监控：绑定时未清除上一次imei
4. 商户管理：新增时检测商户名称是否重复
5. 设备管理：绑定时车牌号不是必填项
6. 系统设置：修复不能更改值得问题

`04-25`
1. 车辆监控：三种特殊控制命令添加默认选项
2. 角色管理：设置权限时，传给后台半选按钮的id
3. 新增两个坐标图片
4. interface：新增FilterFormList中pickerOptions的选项disabledDate，使得不能选择今天之后的日期
5. 设置时间范围筛选框：不能选择今日之后的日期
6. 设置电子围栏、车辆监控、历史轨迹、无线追踪的表格固定表头
7. 设备管理列表：修改离线状态参数展示
8. 暂停收集日志
9. 追踪设备配置：出错关闭后重新打开消除上次的错误提示

`04-26`
1. 商户管理：修改检测商户名称是否存在的接口，新增时不变、修改时传入商户id
2. 追踪记录：进入页面获取当前页所有数据并展示在页面上
3. 追踪设备：修改状态字段为trackStatus， 预约时不传入时间不请求接口
4. 车辆监控：表格样式修改，车辆详情数据修改
5. 商户管理：修改设备类型为全选时，选择数据范围修改
6. 修改小表格样式

`04-28`
1. 车辆监控：优化未绑定有线设备时无控制项的提示语，控制弹框默认选项修改，解绑时无选择时无法提交
2. 角色管理：优化角色编辑弹框角色名输入框的id，修复角色权限展示问题
3. 驾驶行为：同一地点同一时间多个驾驶行为的展示，忽略同一地点不同时间多个驾驶行为的情况
4. 修改搜索栏input框名称统一为：输入搜索
5. 设备配置：蓝牙鉴权码展示修改，离线时间展示修改
6. 追踪记录：时间超过三个月时，查询当前时间前三个月的数据
7. 成员管理：分配角色规则修改

`04-29`
1. 修改大图大小
2. 修改首页
3. 设备配置：修改操作验证条件
4. 设备配置：查询配置时展示修改，修改操作验证条件，蓝牙名称弹框每次进入时查询
5. 权限：无权限时弹出提示，不退到登录页
6. 设备管理：阈值设置添加限制条件
7. 告警管理：搜索栏告警类型修改
8. 权限管理：回填时清除上级菜单数据

`04-30`
1. 修改无权限时提示语
2. 设备管理：阈值设置改变
3. 角色管理：权限列表按照指定顺序排序
4. 驾驶行为：清除上一次请求的地图标点
5. 首页：修改完成

`05-05`
1. 设备管理：修复阈值设置弹框关闭后不清除数据的问题，修复阈值设备默认值设置不生效
2. 设备管理：阈值重设默认值
3. 设备配置：查询配置时显示状态逻辑修改
4. 驾驶行为：展示数据组装规则修改
5. 电子围栏：出入围栏类型在详情中显示错误
6. 安绑记录：操作员、验收员展示规则修改
7. 首页：在线车辆展示修改

`05-06`
1. 设备配置：蓝牙鉴权、蓝牙名称、蓝牙秘钥展示规则修改，新增蓝牙秘钥，修复蓝牙下发配置后查询配置出现的问题
2. 设备列表：修改设备日志中上电状态
3. 设备配置：修改三个蓝牙按钮展示规则
4. 统一将震动改为振动
5. 驾驶行为：时间选择修改到与需求一致

`05-07`
1. 设备管理：日志上电状态修改
2. 统一将震动改为振动
3. 登录提示屏蔽
4. 车辆监控：在线离线展示修改
5. 设备配置：日志的上电标志修改

`05-08`
1. 首页：权限更改中
2. 角色管理：权限设置修改
3. 首页：在权限被限制情况下不展示相应内容
4. 导出：在权限被限制情况下弹出相应提示
5. 驾驶行为：搜索时间选择修改
6. 轨迹：样式修改

`05-09`
1. 设备配置：新增设备学习功能
2. 设备追踪：追踪频率单位修改
3. 设备追踪记录：在搜索时间超过三个月时给出提示
4. 轨迹：在搜索时间超过三个月时给出提示
5. public：外接资源链接修改
6. 设备配置：设备学习功能修改

`05-10`
1. 上传图片：后台提示报错时，前端清除上一次上传记录
2. 车辆监控：油路、授权、锁状态判断条件修改
3. 通知公告：查看权限修改

`05-11`
1. 车辆监控：设防撤防状态名称修改
2. 采用gzip压缩，优化访问速度
3. 首页：行驶数据修改，平均油耗字段未定
4. 行驶统计：修改部分字段

`05-13`
1. 首页：添加平均油耗字段，修改展示效果
2. 权限：无权限时修改展示效果，先提示，后刷新
3. 车辆监控：控制命令默认选项

`05-14`
1. 首页展示优化
2. 设备配置：编辑按钮权限设置
3. 优化首页行驶数据统计的请求条件
4. 轨迹：搜索条件时间范围增加到93

`05-15`
1. 阀值-->阈值
2. 百度逆地址解析添加标识符：&latest_admin=1 以确保您的行政区划数据正确

`05-16`
1. 角色权限：列表权限与其它权限相匹配
2. 成员：成员角色类型设置

`05-17`
1. 设备管理：绑定时车牌验证添加‘车假’
2. 设备管理：删除设备到期字段

`05-20`
1. 告警消息、通知公告：后端修改参数0代表未处理
2. 商户管理：列表中关联商户字段修改、
3. 设备配置：蓝牙名称和蓝牙秘钥共用一个权限管理、添加对设备学习的权限管理（接口相同）

`05-21`
1. 车辆监控：不校验车牌号是否正确，只校验是否输入

`05-24`
1. 检测用户名是否存在的接口修改地址及传值方式修改

`05-25`
1. 车辆轨迹：查询轨迹数据接口传参修改、驾驶行为对应参数变更
2. 通知公告：后端修改参数1代表未处理
3. 商户管理：搜索栏中关联商户名搜索删除

`05-27`
1. 首页：运行统计修改
2. 告警消息：首页跳转完成，请求数据方式完成
3. 车辆轨迹：轨迹点时间修改为time
4. 首页：告警消息字段修改为typeName
5. 设备管理：日志中上电状态标志不作处理

`05-28`
1. 告警消息：告警类型在重置时不清空的问题
2. 修改地图ak
3. 行驶统计：查询参数修改

`05-29`
1. 首页：车辆在线圆环数据修改
2. 设备管理：日志展示修改
3. 设备配置：操作记录展示修改
4. 车辆监控：点击车辆时不去查询控制项，修改为点击远程控制时才查询控制项
5. 设备配置：操作记录展示宽度加到850px，
6. 设备管理：操作记录展示宽度加到850px，设备日志页码回退到第一页

`05-30`
1. 车辆监控：合并详情修改
2. 数据统计：搜索只用传日期
3. 车辆轨迹：gpsSpeed修改为speed
4. 车辆轨迹：车辆方向代码修改

`05-31`
1. 轨迹：默认查当天
2. 监控：无设备信息时，使用列表数据
3. 设备管理：将网络状态移入普通搜索
4. 修改为所属商户

`06-03`
1. 行驶统计：默认时间设置为一天
2. 修改无权限提示语
3. 车辆监控：通过列表中的经纬度确定周围5公里车辆
4. 车辆轨迹：右上角增加车牌展示

`06-04`
1. 车辆监控：修复点击车子图标不展示详情的问题
2. 车辆轨迹：驾驶行为对应数值修改
3. 驾驶行为：驾驶行为对应数值修改，参数名修改driveEvents
4. 首页：小数长度修改

`06-05`
1. 车辆轨迹：播放完毕后车子不移动，obdSpeed修改为odbSpeed
2. 判断token类型，然后根据类型判断是否请求请求userInfo接口，杜绝使用临时token请求其它接口。

`06-06`
1. 车辆监控：修复车辆详情全为空情况下不展示车牌、所属商户的问题
2. 车辆轨迹：时间范围做修改
3. 商户管理：修改密码
4. 成员管理：修改密码

`06-10`
1. 车辆轨迹：绘制带颜色的轨迹时，i < len - 2-->i < len - 1
2. 数据统计：重置后也查询当天的数据
3. 报错刷新之前清除当前token
4. 登录：监听密码输入框enter

`06-11`
1. 车辆轨迹：跨天查询时终止时间为所选时间的23:59:59
2. 修改密码：成功之后先清除token在刷新页面